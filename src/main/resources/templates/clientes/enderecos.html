<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Cadastro / Edição de Endereço</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

    <link href="/css/clientes/endereco.css" rel="stylesheet" />
</head>
<body>

<div class="card-form">

    <div th:if="${endereco.id != null}" class="alert alert-info text-center fw-bold" role="alert">
        <i class="fas fa-info-circle me-2"></i> Você já tem um endereço cadastrado.
    </div>

    <div th:if="${sucesso}" class="alert alert-success text-center" role="alert">
        <i class="fas fa-check-circle me-2"></i> <span th:text="${sucesso}"></span>
    </div>

    <div th:if="${erro}" class="alert alert-danger text-center" role="alert">
        <i class="fas fa-times-circle me-2"></i> <span th:text="${erro}"></span>
    </div>

    <h2 th:text="${endereco.id == null} ? 'Cadastrar Novo Endereço' : 'Editar Endereço'"></h2>

    <p class="info-text" th:text="${endereco.id == null}
        ? 'Preencha os dados abaixo para cadastrar seu novo endereço.'
        : 'Atualize os dados abaixo para editar seu endereço existente.'"></p>

    <form th:action="@{/clientes/enderecos/{clienteId}(clienteId=${cliente.id})}" method="post" th:object="${endereco}">
        <input type="hidden" th:field="*{id}" />

        <div class="mb-3">
            <label for="estado" class="form-label">Estado</label>
            <select id="estado" th:field="*{estado}" class="form-select" required>
                <option value="">Selecione um estado</option>
                <option value="AC" th:selected="${endereco.estado == 'AC'}">Acre</option>
                <option value="AL" th:selected="${endereco.estado == 'AL'}">Alagoas</option>
                <option value="AM" th:selected="${endereco.estado == 'AM'}">Amazonas</option>
                <option value="AP" th:selected="${endereco.estado == 'AP'}">Amapá</option>
                <option value="BA" th:selected="${endereco.estado == 'BA'}">Bahia</option>
                <option value="CE" th:selected="${endereco.estado == 'CE'}">Ceará</option>
                <option value="DF" th:selected="${endereco.estado == 'DF'}">Distrito Federal</option>
                <option value="ES" th:selected="${endereco.estado == 'ES'}">Espírito Santo</option>
                <option value="GO" th:selected="${endereco.estado == 'GO'}">Goiás</option>
                <option value="MA" th:selected="${endereco.estado == 'MA'}">Maranhão</option>
                <option value="MG" th:selected="${endereco.estado == 'MG'}">Minas Gerais</option>
                <option value="MS" th:selected="${endereco.estado == 'MS'}">Mato Grosso do Sul</option>
                <option value="MT" th:selected="${endereco.estado == 'MT'}">Mato Grosso</option>
                <option value="PA" th:selected="${endereco.estado == 'PA'}">Pará</option>
                <option value="PB" th:selected="${endereco.estado == 'PB'}">Paraíba</option>
                <option value="PE" th:selected="${endereco.estado == 'PE'}">Pernambuco</option>
                <option value="PI" th:selected="${endereco.estado == 'PI'}">Piauí</option>
                <option value="PR" th:selected="${endereco.estado == 'PR'}">Paraná</option>
                <option value="RJ" th:selected="${endereco.estado == 'RJ'}">Rio de Janeiro</option>
                <option value="RN" th:selected="${endereco.estado == 'RN'}">Rio Grande do Norte</option>
                <option value="RO" th:selected="${endereco.estado == 'RO'}">Rondônia</option>
                <option value="RR" th:selected="${endereco.estado == 'RR'}">Roraima</option>
                <option value="RS" th:selected="${endereco.estado == 'RS'}">Rio Grande do Sul</option>
                <option value="SC" th:selected="${endereco.estado == 'SC'}">Santa Catarina</option>
                <option value="SE" th:selected="${endereco.estado == 'SE'}">Sergipe</option>
                <option value="SP" th:selected="${endereco.estado == 'SP'}">São Paulo</option>
                <option value="TO" th:selected="${endereco.estado == 'TO'}">Tocantins</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="cidade" class="form-label">Cidade</label>
            <input type="text" id="cidade" th:field="*{cidade}" class="form-control" required />
        </div>

        <div class="mb-3">
            <label for="cep" class="form-label">CEP</label>
            <input type="text" id="cep" th:field="*{cep}" class="form-control" placeholder="Preenchido automaticamente" required />
        </div>

        <div class="mb-3">
            <label for="rua" class="form-label">Rua</label>
            <input type="text" id="rua" th:field="*{rua}" class="form-control" required />
        </div>

        <div class="mb-3">
            <label for="numero" class="form-label">Número</label>
            <input type="text" id="numero" th:field="*{numero}" class="form-control" required />
        </div>

        <button type="submit" class="btn btn-success btn-submit">
            <span th:text="${endereco.id == null} ? 'Cadastrar Endereço' : 'Salvar Alterações'"></span>
        </button>
        <a href="/clientes/index" class="btn btn-secondary btn-submit mt-2">Voltar</a>

    </form>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
<script src="/js/clientes/endereco.js"></script>
</body>
</html>
